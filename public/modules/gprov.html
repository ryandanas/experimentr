<h1 id="topbar"></h1>

<h3>Instructions</h3>
<b>Changes since the last task have been highlighted</b>
<div id="info" class="placeholder I" style="background-color:#aaf">
  You will now be answering questions about the final grading policy. Please read each question carefully and answer to the best of your ability.
</div>

<h3>Statements</h3>
<b>It turns out it is impossible for a student to be able to grade their own assignment. The parts of the grading policy responsible for forbidding this are highlighted below.</b>
<ol class="I">
  <li>The grading policy involves persons, classes and assignments.</li>
  <li>A person is either a student (has no title) or a professor (has a Dr. title).</li>
  <li>Exactly one professor is the instructor of each class.</li>
  <li>At least one person is the assistant for each class.</li>
  <li>At least one person is enrolled in each class.</li>
  <li>Each assignment is associated with exactly one class.</li>
  <li>For each class, only students can be assistants.</li>
  <li>For each class, only students <span style="background-color:#aaf">who are not assistants</span> can be enrolled.</li>
  <li style="background-color:#aaf">Every student enrolled in a class must be assigned to every assignment associated with that class.</li>
  <li>Only instructors of and assistants for a class can grade assignments associated with that class.</li>
</ol>

<h3>Questions</h3>
<div>
  It turns out it is impossible for a student to be able to grade their own assignment. The parts of the grading policy responsible for forbidding this are highlighted above. 
  <br/>
  <b>In your own words, why is it impossible for a student to be able to grade their own assignment?</b>
  <br/>
  <textarea id="q1" rows="5" cols="80"></textarea>
  <b>Which of the highlighted lines above best explains is it impossible for a student to be able to grade their own assignment?</b>
  <br/>
  <input id="q2" type="number"></input>
</div>
<br>
<button id="submitComments" type="button">Submit Answers and Finish</button>
<div id="submitFeedback"></div>

<script>
var postId  = experimentr.postId
    , ans  = {}
    , valid = false

function validate() {
  var q1 = d3.select("#q1").property("value");
  var q2 = d3.select("#q2").property("value");
  if(/\S/.test(q1)) ans["q1"] = q1;
  if(q2>0 && q2<11) ans["q2"] = q2;
  
  valid = ans["q1"]!=null && ans["q2"]!=null;
  if( valid ) {
    done(ans)
  }
  else {
    d3.select('#submitFeedback').text('Please answer all questions before submitting.');
  }
}

function init2() {
  d3.select('#submitComments').on('click', validate);
}
init();
init2();
</script>
