<h1 id="topbar"></h1>
<div id="fixed">
  <div class="placeholder">You will be designing a building map. A building map keeps track of where people are located on each floor. The statements on the left describe the world the building map is designed for: these statements are always true and cannot be changed. There is an example on the right that shows what each statement means. Please read each statement/example carefully.</div>
  <div class="I">
      <p class="S">A building map consists of floors and locations.</p>
      <p class="E">Example: n/a</p>
  </div>
  <div class="I">
      <p class="S">A location is either a room or a name.</p>
      <p class="E">Example: Room 404 is a room, Alice is a name.</p>
  </div>
  <div class="I">
      <p class="S">Only names can be an entry for a floor.</p>
      <p class="E">Example: Room 404 cannot be an entry. Alice can be an entry.</p>
  </div>
  <div class="I">
      <p class="S">Only locations can be listed under an entry for a floor.</p>
      <p class="E">Example: Room 404 can be listed under Alice. Bob can be listed under Alice (meaning Alice has moved to Bob's listed location).</p>
  </div>
  <div class="I">
      <p class="S">We can lookup the locations of a name on a floor by successively finding the location under the entry names in the lookup.</p>
      <p class="E">Example: Alice is listed under Bob. Bob is listed under Room 404. A lookup of Alice goes from Alice to Bob, then Bob to Room 404.</p>
  </div>
  <div class="placeholder" id="understand">Understanding the each statement/example is crucial to complete the following logic puzzle: did they make sense to you?
    <button onclick='understand(false)'>I did not understand them. They did not make sense to me.</button>
    <button onclick='understand(true)'>Yes, they made sense. I am ready to read the puzzle.</button>
  </div>
</div>
<div id="free">
  <div class="placeholder" id="ready">An almost complete building map has been designed below. The design satisfies some of logic puzzle goals (green statements on the right), but not all of them (red ones). Each unsatisfied goal comes with an example of why it is unsatisfied by the current design. The design is only one change away from satisfying all goals. Using the example as insight, make a single change to the solution that: 1. forbids the example 2. satisfies all the goals. Do you feel prepared to solve the logic puzzle?
    <button onclick='ready(false)'>I am not ready. I do not understand what to do.</button>
    <button onclick='ready(true)'>Yes, I am prepared. I am ready to solve the puzzle.</button>
  </div>
  <div class="S">
      <p>There is <select id="T1M">a set of</select> entry(ies) on each floor.</p>
      <p>There is <select id="T2M">at most one</select> location for each entry in each floor.</p>    
      <p>For each floor, all names can be an entry.</p>
      <p>For each floor, <select id="T2R"></select> can be a location for an entry.</p>
      <p>Every name in a lookup is an entry on the floor.</p>
      <p>No name is in its own lookup.</p> 
  </div>
  <div class="E">
    <p style="background-color:#afa">There is at most one location for every entry in every floor.</p>
    <p style="background-color:#afa">Every name in a lookup is an entry in the floor.</p>
    <p style="background-color:#afa">No name is in its own lookup.</p> 
    <div style="background-color:#faa">
      <p>Every lookup of every name in every floor lists at least one room. Example: The lookup of Joe on floor 2 lists no rooms.</p>
      <ul>
        <li>Nick is an entry on floor 2.</li>
        <li>Joe is an entry on floor 2.</li>
        <li>Nick is the location of Joe on floor 2.</li>
      </ul>
    </div>
  </div>
  <div class="placeholder" id="feedback"></div>
</div>

<script>
  function init2() {
    d3.select('#T1M')
    .html("<option disabled='disabled' selected='selected'>a set of</option> \
      <option id='T1M1'>exactly one</option> \
      <option id='T1M2'>at most one</option> \
      <option id='T1M3'>at least one</option>");
    d3.select('#T2M')
    .html("<option disabled='disabled' selected='selected'>at most one</option> \
      <option id='T2M1'>a set of</option> \
      <option id='T2M2'>exactly one</option> \
      <option id='T2M3'>at least one</option>");
    d3.select('#T2R')
    .html("<option disabled='disabled' selected='selected'>all locations</option> \
      <option id='T2R1'>all locations that are roomes</option> \
      <option id='T2R2'>all locations that are names</option>");
    var edits = {};
    edits.T2M2 = "";
    init(edits);
  } 
  init2();
</script>